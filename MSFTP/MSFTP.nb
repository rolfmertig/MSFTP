(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[      6874,        242]
NotebookOptionsPosition[      5633,        195]
NotebookOutlinePosition[      6045,        213]
CellTagsIndexPosition[      6002,        210]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"PrependTo", "[", 
    RowBox[{"$Path", ",", " ", 
     RowBox[{
      RowBox[{"NotebookDirectory", "[", "]"}], "//", "ParentDirectory"}]}], 
    "]"}], ";"}], " ", 
  RowBox[{"(*", 
   RowBox[{
   "if", " ", "this", " ", "notebook", " ", "is", " ", "called", " ", "from", 
    " ", "Wolfram", " ", "Workbench"}], "  ", "*)"}]}]], "Input"],

Cell[CellGroupData[{

Cell["\<\
Install MSFTP, if needed.
Load it\
\>", "Section"],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"FindFile", "[", "\"\<MSFTP`\>\"", "]"}], "===", "$Failed"}], ",",
    " ", "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"$VersionNumber", "\[GreaterEqual]", "9"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Get", "@", "\"\<http://goo.gl/Ncbbi6\>\""}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
      "Import", "@", 
       "\"\<https://raw.githubusercontent.com/rolfmertig/\
MathematicaPackageInstall/master/MathematicaPackageInstall/\
MathematicaPackageInstall.m\>\""}]}], "\[IndentingNewLine]", "]"}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
      RowBox[{
       RowBox[{
       "Setting", " ", "\[IndentingNewLine]", 
        "MathematicaPackageInstall`$AutomaticInstall"}], " ", "=", " ", 
       "True"}], ";", "   ", "\[IndentingNewLine]", "  ", 
      RowBox[{
      "here", " ", "would", " ", "also", " ", "automatically", " ", "install",
        " ", "Unzip", " ", "and", " ", "CopyRemote", " ", "to", " ", 
       RowBox[{"$UserBase", "/", "Applications"}]}]}], " ", 
     "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "This", " ", "installs", " ", "the", " ", "package", " ", "MSFTP", " ", 
      "to", " ", 
      RowBox[{"$UserBase", "/", "Applications"}]}], " ", "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{
    "MathematicaPackageInstall`MathematicaPackageInstall", "[", 
     "\"\<MSFTP\>\"", "]"}]}]}], "\[IndentingNewLine]", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<MSFTP`\>\"", "]"}]], "Input"],

Cell["\<\
Uninstall by executing:
Get@\[CloseCurlyDoubleQuote]http://goo.gl/Ncbbi6\[CloseCurlyDoubleQuote];
MathematicaPackageInstall`MathematicaPackageUninstall[\"MSFTP\"] 
\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inspect package", "Section"],

Cell[BoxData[
 RowBox[{"Names", "[", "\"\<MSFTP`*\>\"", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"?", "MSFTPPut"}]], "Input"],

Cell[BoxData[
 RowBox[{"?", "MSFTPGet"}]], "Input"],

Cell[BoxData[
 RowBox[{"?", "PassEncode"}]], "Input"],

Cell[BoxData[
 RowBox[{"Options", "@", "MSFTPPut"}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Tests \nchange ",
 StyleBox["$mypassword",
  FontWeight->"Bold"],
 " (and eventyally $myusername)"
}], "Section"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$myUserName", " ", "=", " ", "$UserName"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"$myPassword", " ", "=", " ", "\"\<verysecret\>\""}], 
  ";"}]}], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"SetOptions", "[", 
     RowBox[{"#", ",", "\[IndentingNewLine]", 
      RowBox[{
      "\"\<HostName\>\"", " ", "\[Rule]", " ", 
       "\"\<www.gluonvision.com\>\""}], ",", "\[IndentingNewLine]", 
      RowBox[{"\"\<UserName\>\"", " ", "\[Rule]", " ", "$myUserName"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"\"\<Password\>\"", " ", "\[Rule]", "$myPassword"}]}], 
     "\[IndentingNewLine]", "]"}], "&"}], " ", "/@", " ", 
   RowBox[{"{", 
    RowBox[{"MSFTPGet", ",", "MSFTPPut"}], "}"}]}], ";"}]], "Input"],

Cell[CellGroupData[{

Cell["Create a remote directory (test)  and upload a file to it", "Subsection"],

Cell[BoxData[
 RowBox[{"MSFTPPut", "[", 
  RowBox[{
   RowBox[{"ToFileName", "[", 
    RowBox[{"\"\<FileName\>\"", " ", "/.", " ", 
     RowBox[{"NotebookInformation", "[", 
      RowBox[{"InputNotebook", "[", "]"}], "]"}]}], "]"}], ",", " ", 
   "\"\<test\>\""}], "]"}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Get a remote directory (test)  and save it to \
FileNameJoin[{$TemporaryDirectory,\[CloseCurlyDoubleQuote]test\
\[CloseCurlyDoubleQuote]}]\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{"AbsoluteTiming", "@", 
  RowBox[{"MSFTPGet", "[", 
   RowBox[{"\"\<test\>\"", ",", 
    RowBox[{"FileNameJoin", "[", 
     RowBox[{"{", 
      RowBox[{"$TemporaryDirectory", ",", "\"\<test\>\""}], "}"}], "]"}], ",", 
    RowBox[{"Print", "\[Rule]", "False"}]}], "]"}]}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Put a directory with all its content in a directory \
\[OpenCurlyDoubleQuote]MSFTP\[CloseCurlyDoubleQuote] on the server:\
\>", "Subsection"],

Cell[BoxData[
 RowBox[{"AbsoluteTiming", " ", "@", " ", 
  RowBox[{"MSFTPPut", "[", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"NotebookDirectory", "[", "]"}], " ", "//", " ", 
     "ParentDirectory"}], ",", " ", "\"\<MSFTP\>\""}], "]"}]}]], "Input"]
}, Open  ]]
}, Open  ]]
},
Editable->True,
WindowSize->{1003, 730},
WindowMargins->{{24, Automatic}, {Automatic, 69}},
ShowSelection->True,
Magnification:>1.25 Inherited,
FrontEndVersion->"10.1 for Microsoft Windows (64-bit) (March 23, 2015)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 385, 11, 60, "Input"],
Cell[CellGroupData[{
Cell[967, 35, 60, 3, 137, "Section"],
Cell[1030, 40, 1631, 40, 405, "Input"],
Cell[2664, 82, 71, 1, 36, "Input"],
Cell[2738, 85, 188, 5, 113, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2963, 95, 34, 0, 86, "Section"],
Cell[3000, 97, 72, 1, 36, "Input"],
Cell[3075, 100, 51, 1, 36, "Input"],
Cell[3129, 103, 51, 1, 36, "Input"],
Cell[3183, 106, 53, 1, 36, "Input"],
Cell[3239, 109, 62, 1, 36, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3338, 115, 131, 5, 137, "Section"],
Cell[3472, 122, 208, 6, 60, "Input"],
Cell[3683, 130, 580, 14, 129, "Input"],
Cell[CellGroupData[{
Cell[4288, 148, 79, 0, 59, "Subsection"],
Cell[4370, 150, 281, 7, 60, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4688, 162, 168, 4, 95, "Subsection"],
Cell[4859, 168, 304, 7, 60, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5200, 180, 151, 3, 59, "Subsection"],
Cell[5354, 185, 251, 6, 36, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
